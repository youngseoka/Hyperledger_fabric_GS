{"ast":null,"code":"import _objectSpread from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n *    SPDX-License-Identifier: Apache-2.0\n */import React,{Component}from'react';import{connect}from'react-redux';import{withStyles}from'@material-ui/core/styles';import{HashRouter as Router,Route,Switch}from'react-router-dom';import classnames from'classnames';import Main from'../Main';import Header from'../Header';import Footer from'../Footer';import LandingPage from'../View/LandingPage';import ErrorMessage from'../ErrorMessage';import{chartSelectors}from'../../state/redux/charts';import{themeSelectors,themeActions}from'../../state/redux/theme';import{authSelectors}from'../../state/redux/auth';import Login from'../Login';import Private from'../Route';/* istanbul ignore next */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=function styles(theme){var type=theme.palette.type;var dark=type==='dark';return{app:{backgroundColor:dark?'rgb(36, 32, 54)':'rgb(240, 245, 249)',position:'absolute',top:0,left:0,bottom:0,right:0,'& ol, & ul':{listStyle:'none'}}};};export var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.updateLoadStatus=function(){_this.setState({loading:false});};_this.refreshComponent=function(mode){_this.props.changeTheme(mode);};_this.state={loading:true};return _this;}/* istanbul ignore next */_createClass(App,[{key:\"render\",value:/* istanbul ignore next */function render(){var auth=this.props.auth;var loading=this.state.loading;if(auth&&loading){return/*#__PURE__*/_jsx(LandingPage,{updateLoadStatus:this.updateLoadStatus});}var _this$props=this.props,classes=_this$props.classes,mode=_this$props.mode,error=_this$props.error;var className=classnames(mode==='dark'&&'dark-theme',classes.app);return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[auth&&/*#__PURE__*/_jsx(Header,{refresh:this.refreshComponent}),error&&/*#__PURE__*/_jsx(ErrorMessage,{message:error}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:function render(routeprops){return/*#__PURE__*/_jsx(Login,_objectSpread({},routeprops));}}),/*#__PURE__*/_jsx(Private,{path:\"/\",render:function render(routeprops){return/*#__PURE__*/_jsx(Main,_objectSpread({},routeprops));}})]})}),auth&&/*#__PURE__*/_jsx(Footer,{})]});}}]);return App;}(Component);var modeSelector=themeSelectors.modeSelector;var changeTheme=themeActions.changeTheme;var errorMessageSelector=chartSelectors.errorMessageSelector;var authSelector=authSelectors.authSelector;var mapStateToProps=function mapStateToProps(state){return{error:errorMessageSelector(state),mode:modeSelector(state),auth:authSelector(state)};};var mapDispatchToProps={changeTheme:changeTheme};var connectedComponent=connect(mapStateToProps,mapDispatchToProps)(App);/* istanbul ignore next */export default withStyles(styles)(connectedComponent);","map":{"version":3,"sources":["/fabric_explorer_nft/client/src/components/App/App.js"],"names":["React","Component","connect","withStyles","HashRouter","Router","Route","Switch","classnames","Main","Header","Footer","LandingPage","ErrorMessage","chartSelectors","themeSelectors","themeActions","authSelectors","Login","Private","styles","theme","type","palette","dark","app","backgroundColor","position","top","left","bottom","right","listStyle","App","props","updateLoadStatus","setState","loading","refreshComponent","mode","changeTheme","state","auth","classes","error","className","routeprops","modeSelector","errorMessageSelector","authSelector","mapStateToProps","mapDispatchToProps","connectedComponent"],"mappings":"ysBAAA;AACA;AACA,GAEA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,UAAU,GAAIC,CAAAA,MAAvB,CAA+BC,KAA/B,CAAsCC,MAAtC,KAAoD,kBAApD,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,cAAT,CAAyBC,YAAzB,KAA6C,yBAA7C,CACA,OAASC,aAAT,KAA8B,wBAA9B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,UAApB,CAEA,0B,wFACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,CACvB,GAAQC,CAAAA,IAAR,CAAiBD,KAAK,CAACE,OAAvB,CAAQD,IAAR,CACA,GAAME,CAAAA,IAAI,CAAGF,IAAI,GAAK,MAAtB,CACA,MAAO,CACNG,GAAG,CAAE,CACJC,eAAe,CAAEF,IAAI,CAAG,iBAAH,CAAuB,oBADxC,CAEJG,QAAQ,CAAE,UAFN,CAGJC,GAAG,CAAE,CAHD,CAIJC,IAAI,CAAE,CAJF,CAKJC,MAAM,CAAE,CALJ,CAMJC,KAAK,CAAE,CANH,CAOJ,aAAc,CACbC,SAAS,CAAE,MADE,CAPV,CADC,CAAP,CAaA,CAhBD,CAkBA,UAAaC,CAAAA,GAAb,0FACC,aAAYC,KAAZ,CAAmB,qCAClB,uBAAMA,KAAN,EADkB,MAQnBC,gBARmB,CAQA,UAAM,CACxB,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,KAAX,CAAd,EACA,CAVkB,OAanBC,gBAbmB,CAaA,SAAAC,IAAI,CAAI,CAC1B,MAAKL,KAAL,CAAWM,WAAX,CAAuBD,IAAvB,EACA,CAfkB,CAElB,MAAKE,KAAL,CAAa,CACZJ,OAAO,CAAE,IADG,CAAb,CAFkB,aAKlB,CAED,0BARD,sCAkBC,0BACA,iBAAS,CACR,GAAQK,CAAAA,IAAR,CAAiB,KAAKR,KAAtB,CAAQQ,IAAR,CACA,GAAQL,CAAAA,OAAR,CAAoB,KAAKI,KAAzB,CAAQJ,OAAR,CACA,GAAIK,IAAI,EAAIL,OAAZ,CAAqB,CACpB,mBAAO,KAAC,WAAD,EAAa,gBAAgB,CAAE,KAAKF,gBAApC,EAAP,CACA,CACD,gBAAiC,KAAKD,KAAtC,CAAQS,OAAR,aAAQA,OAAR,CAAiBJ,IAAjB,aAAiBA,IAAjB,CAAuBK,KAAvB,aAAuBA,KAAvB,CACA,GAAMC,CAAAA,SAAS,CAAGrC,UAAU,CAAC+B,IAAI,GAAK,MAAT,EAAmB,YAApB,CAAkCI,OAAO,CAAClB,GAA1C,CAA5B,CACA,mBACC,aAAK,SAAS,CAAEoB,SAAhB,WACEH,IAAI,eAAI,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKJ,gBAAtB,EADV,CAEEM,KAAK,eAAI,KAAC,YAAD,EAAc,OAAO,CAAEA,KAAvB,EAFX,cAGC,KAAC,MAAD,wBACC,MAAC,MAAD,yBACC,KAAC,KAAD,EACC,KAAK,KADN,CAEC,IAAI,CAAC,QAFN,CAGC,MAAM,CAAE,gBAAAE,UAAU,qBAAI,KAAC,KAAD,kBAAWA,UAAX,EAAJ,EAHnB,EADD,cAMC,KAAC,OAAD,EAAS,IAAI,CAAC,GAAd,CAAkB,MAAM,CAAE,gBAAAA,UAAU,qBAAI,KAAC,IAAD,kBAAUA,UAAV,EAAJ,EAApC,EAND,GADD,EAHD,CAaEJ,IAAI,eAAI,KAAC,MAAD,IAbV,GADD,CAiBA,CA5CF,iBAAyBzC,SAAzB,EA+CA,GAAQ8C,CAAAA,YAAR,CAAyBhC,cAAzB,CAAQgC,YAAR,CACA,GAAQP,CAAAA,WAAR,CAAwBxB,YAAxB,CAAQwB,WAAR,CACA,GAAQQ,CAAAA,oBAAR,CAAiClC,cAAjC,CAAQkC,oBAAR,CACA,GAAQC,CAAAA,YAAR,CAAyBhC,aAAzB,CAAQgC,YAAR,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAT,KAAK,CAAI,CAChC,MAAO,CACNG,KAAK,CAAEI,oBAAoB,CAACP,KAAD,CADrB,CAENF,IAAI,CAAEQ,YAAY,CAACN,KAAD,CAFZ,CAGNC,IAAI,CAAEO,YAAY,CAACR,KAAD,CAHZ,CAAP,CAKA,CAND,CAQA,GAAMU,CAAAA,kBAAkB,CAAG,CAAEX,WAAW,CAAXA,WAAF,CAA3B,CAEA,GAAMY,CAAAA,kBAAkB,CAAGlD,OAAO,CAACgD,eAAD,CAAkBC,kBAAlB,CAAP,CAA6ClB,GAA7C,CAA3B,CACA,0BACA,cAAe9B,CAAAA,UAAU,CAACiB,MAAD,CAAV,CAAmBgC,kBAAnB,CAAf","sourcesContent":["/**\n *    SPDX-License-Identifier: Apache-2.0\n */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport classnames from 'classnames';\nimport Main from '../Main';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport LandingPage from '../View/LandingPage';\nimport ErrorMessage from '../ErrorMessage';\nimport { chartSelectors } from '../../state/redux/charts';\nimport { themeSelectors, themeActions } from '../../state/redux/theme';\nimport { authSelectors } from '../../state/redux/auth';\n\nimport Login from '../Login';\n\nimport Private from '../Route';\n\n/* istanbul ignore next */\nconst styles = theme => {\n\tconst { type } = theme.palette;\n\tconst dark = type === 'dark';\n\treturn {\n\t\tapp: {\n\t\t\tbackgroundColor: dark ? 'rgb(36, 32, 54)' : 'rgb(240, 245, 249)',\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tbottom: 0,\n\t\t\tright: 0,\n\t\t\t'& ol, & ul': {\n\t\t\t\tlistStyle: 'none'\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport class App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: true\n\t\t};\n\t}\n\n\t/* istanbul ignore next */\n\tupdateLoadStatus = () => {\n\t\tthis.setState({ loading: false });\n\t};\n\n\t/* istanbul ignore next */\n\trefreshComponent = mode => {\n\t\tthis.props.changeTheme(mode);\n\t};\n\n\t/* istanbul ignore next */\n\trender() {\n\t\tconst { auth } = this.props;\n\t\tconst { loading } = this.state;\n\t\tif (auth && loading) {\n\t\t\treturn <LandingPage updateLoadStatus={this.updateLoadStatus} />;\n\t\t}\n\t\tconst { classes, mode, error } = this.props;\n\t\tconst className = classnames(mode === 'dark' && 'dark-theme', classes.app);\n\t\treturn (\n\t\t\t<div className={className}>\n\t\t\t\t{auth && <Header refresh={this.refreshComponent} />}\n\t\t\t\t{error && <ErrorMessage message={error} />}\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\t\trender={routeprops => <Login {...routeprops} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Private path=\"/\" render={routeprops => <Main {...routeprops} />} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t\t{auth && <Footer />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst { modeSelector } = themeSelectors;\nconst { changeTheme } = themeActions;\nconst { errorMessageSelector } = chartSelectors;\nconst { authSelector } = authSelectors;\n\nconst mapStateToProps = state => {\n\treturn {\n\t\terror: errorMessageSelector(state),\n\t\tmode: modeSelector(state),\n\t\tauth: authSelector(state)\n\t};\n};\n\nconst mapDispatchToProps = { changeTheme };\n\nconst connectedComponent = connect(mapStateToProps, mapDispatchToProps)(App);\n/* istanbul ignore next */\nexport default withStyles(styles)(connectedComponent);\n"]},"metadata":{},"sourceType":"module"}