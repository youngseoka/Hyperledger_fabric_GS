{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _fuzzyMatchUtils = require('fuzzy-match-utils');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _selectItem = require('./select-item.js');\n\nvar _selectItem2 = _interopRequireDefault(_selectItem);\n\nvar _selectList = require('./select-list.js');\n\nvar _selectList2 = _interopRequireDefault(_selectList);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * This component represents the entire panel which gets dropped down when the\n * user selects the component.  It encapsulates the search filter, the\n * Select-all item, and the list of options.\n */\n\n\nvar SelectPanel = function (_Component) {\n  _inherits(SelectPanel, _Component);\n\n  function SelectPanel() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SelectPanel);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SelectPanel.__proto__ || Object.getPrototypeOf(SelectPanel)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      searchHasFocus: false,\n      searchText: \"\",\n      focusIndex: 0\n    }, _this.selectAll = function () {\n      var _this$props = _this.props,\n          onSelectedChanged = _this$props.onSelectedChanged,\n          options = _this$props.options;\n      var allValues = options.map(function (o) {\n        return o.value;\n      });\n      onSelectedChanged(allValues);\n    }, _this.selectNone = function () {\n      var onSelectedChanged = _this.props.onSelectedChanged;\n      onSelectedChanged([]);\n    }, _this.selectAllChanged = function (checked) {\n      if (checked) {\n        _this.selectAll();\n      } else {\n        _this.selectNone();\n      }\n    }, _this.handleSearchChange = function (e) {\n      _this.setState({\n        searchText: e.target.value,\n        focusIndex: -1\n      });\n    }, _this.handleItemClicked = function (index) {\n      _this.setState({\n        focusIndex: index\n      });\n    }, _this.clearSearch = function () {\n      _this.setState({\n        searchText: \"\"\n      });\n    }, _this.handleKeyDown = function (e) {\n      switch (e.which) {\n        case 38:\n          // Up Arrow\n          if (e.altKey) {\n            return;\n          }\n\n          _this.updateFocus(-1);\n\n          break;\n\n        case 40:\n          // Down Arrow\n          if (e.altKey) {\n            return;\n          }\n\n          _this.updateFocus(1);\n\n          break;\n\n        default:\n          return;\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    }, _this.handleSearchFocus = function (searchHasFocus) {\n      _this.setState({\n        searchHasFocus: searchHasFocus,\n        focusIndex: -1\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(SelectPanel, [{\n    key: 'allAreSelected',\n    value: function allAreSelected() {\n      var _props = this.props,\n          options = _props.options,\n          selected = _props.selected;\n      return options.length === selected.length;\n    }\n  }, {\n    key: 'filteredOptions',\n    value: function filteredOptions() {\n      var searchText = this.state.searchText;\n      var _props2 = this.props,\n          options = _props2.options,\n          customFilterOptions = _props2.filterOptions;\n      return customFilterOptions ? customFilterOptions(options, searchText) : (0, _fuzzyMatchUtils.filterOptions)(options, searchText);\n    }\n  }, {\n    key: 'updateFocus',\n    value: function updateFocus(offset) {\n      var focusIndex = this.state.focusIndex;\n      var options = this.props.options;\n      var newFocus = focusIndex + offset;\n      newFocus = Math.max(0, newFocus);\n      newFocus = Math.min(newFocus, options.length);\n      this.setState({\n        focusIndex: newFocus\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _state = this.state,\n          focusIndex = _state.focusIndex,\n          searchHasFocus = _state.searchHasFocus;\n      var _props3 = this.props,\n          ItemRenderer = _props3.ItemRenderer,\n          selectAllLabel = _props3.selectAllLabel,\n          disabled = _props3.disabled,\n          disableSearch = _props3.disableSearch,\n          hasSelectAll = _props3.hasSelectAll;\n      var selectAllOption = {\n        label: selectAllLabel || \"Select All\",\n        value: \"\"\n      };\n      var focusedSearchStyle = searchHasFocus ? styles.searchFocused : undefined;\n      return _react2.default.createElement('div', {\n        className: 'select-panel',\n        style: styles.panel,\n        role: 'listbox',\n        onKeyDown: this.handleKeyDown\n      }, !disableSearch && _react2.default.createElement('div', {\n        style: styles.searchContainer\n      }, _react2.default.createElement('input', {\n        placeholder: 'Search',\n        type: 'text',\n        onChange: this.handleSearchChange,\n        style: _extends({}, styles.search, focusedSearchStyle),\n        onFocus: function onFocus() {\n          return _this2.handleSearchFocus(true);\n        },\n        onBlur: function onBlur() {\n          return _this2.handleSearchFocus(false);\n        }\n      })), hasSelectAll && _react2.default.createElement(_selectItem2.default, {\n        focused: focusIndex === 0,\n        checked: this.allAreSelected(),\n        option: selectAllOption,\n        onSelectionChanged: this.selectAllChanged,\n        onClick: function onClick() {\n          return _this2.handleItemClicked(0);\n        },\n        ItemRenderer: ItemRenderer,\n        disabled: disabled\n      }), _react2.default.createElement(_selectList2.default, _extends({}, this.props, {\n        options: this.filteredOptions(),\n        focusIndex: focusIndex - 1,\n        onClick: function onClick(e, index) {\n          return _this2.handleItemClicked(index + 1);\n        },\n        ItemRenderer: ItemRenderer,\n        disabled: disabled\n      })));\n    }\n  }]);\n\n  return SelectPanel;\n}(_react.Component);\n\nvar styles = {\n  panel: {\n    boxSizing: 'border-box'\n  },\n  search: {\n    display: \"block\",\n    maxWidth: \"100%\",\n    borderRadius: \"3px\",\n    boxSizing: 'border-box',\n    height: '30px',\n    lineHeight: '24px',\n    border: '1px solid',\n    borderColor: '#dee2e4',\n    padding: '10px',\n    width: \"100%\",\n    outline: \"none\"\n  },\n  searchFocused: {\n    borderColor: \"#78c008\"\n  },\n  searchContainer: {\n    width: \"100%\",\n    boxSizing: 'border-box',\n    padding: \"0.5em\"\n  }\n};\nexports.default = SelectPanel;","map":{"version":3,"sources":["/fabric_explorer_nft/client/node_modules/@khanacademy/react-multi-select/dist/select-panel.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_fuzzyMatchUtils","require","_react","_react2","_interopRequireDefault","_selectItem","_selectItem2","_selectList","_selectList2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","SelectPanel","_Component","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","state","searchHasFocus","searchText","focusIndex","selectAll","_this$props","onSelectedChanged","options","allValues","map","o","selectNone","selectAllChanged","checked","handleSearchChange","e","setState","handleItemClicked","index","clearSearch","handleKeyDown","which","altKey","updateFocus","stopPropagation","preventDefault","handleSearchFocus","allAreSelected","_props","selected","filteredOptions","_props2","customFilterOptions","filterOptions","offset","newFocus","Math","max","min","render","_this2","_state","_props3","ItemRenderer","selectAllLabel","disabled","disableSearch","hasSelectAll","selectAllOption","label","focusedSearchStyle","styles","searchFocused","undefined","createElement","className","style","panel","role","onKeyDown","searchContainer","placeholder","type","onChange","search","onFocus","onBlur","focused","option","onSelectionChanged","onClick","Component","boxSizing","display","maxWidth","borderRadius","height","lineHeight","border","borderColor","padding","width","outline"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fuzzyMatchUtils = require('fuzzy-match-utils');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _selectItem = require('./select-item.js');\n\nvar _selectItem2 = _interopRequireDefault(_selectItem);\n\nvar _selectList = require('./select-list.js');\n\nvar _selectList2 = _interopRequireDefault(_selectList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\n * This component represents the entire panel which gets dropped down when the\n * user selects the component.  It encapsulates the search filter, the\n * Select-all item, and the list of options.\n */\n\n\nvar SelectPanel = function (_Component) {\n    _inherits(SelectPanel, _Component);\n\n    function SelectPanel() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, SelectPanel);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SelectPanel.__proto__ || Object.getPrototypeOf(SelectPanel)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            searchHasFocus: false,\n            searchText: \"\",\n            focusIndex: 0\n        }, _this.selectAll = function () {\n            var _this$props = _this.props,\n                onSelectedChanged = _this$props.onSelectedChanged,\n                options = _this$props.options;\n\n            var allValues = options.map(function (o) {\n                return o.value;\n            });\n\n            onSelectedChanged(allValues);\n        }, _this.selectNone = function () {\n            var onSelectedChanged = _this.props.onSelectedChanged;\n\n\n            onSelectedChanged([]);\n        }, _this.selectAllChanged = function (checked) {\n            if (checked) {\n                _this.selectAll();\n            } else {\n                _this.selectNone();\n            }\n        }, _this.handleSearchChange = function (e) {\n            _this.setState({\n                searchText: e.target.value,\n                focusIndex: -1\n            });\n        }, _this.handleItemClicked = function (index) {\n            _this.setState({ focusIndex: index });\n        }, _this.clearSearch = function () {\n            _this.setState({ searchText: \"\" });\n        }, _this.handleKeyDown = function (e) {\n            switch (e.which) {\n                case 38:\n                    // Up Arrow\n                    if (e.altKey) {\n                        return;\n                    }\n\n                    _this.updateFocus(-1);\n                    break;\n                case 40:\n                    // Down Arrow\n                    if (e.altKey) {\n                        return;\n                    }\n\n                    _this.updateFocus(1);\n                    break;\n                default:\n                    return;\n            }\n\n            e.stopPropagation();\n            e.preventDefault();\n        }, _this.handleSearchFocus = function (searchHasFocus) {\n            _this.setState({\n                searchHasFocus: searchHasFocus,\n                focusIndex: -1\n            });\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(SelectPanel, [{\n        key: 'allAreSelected',\n        value: function allAreSelected() {\n            var _props = this.props,\n                options = _props.options,\n                selected = _props.selected;\n\n            return options.length === selected.length;\n        }\n    }, {\n        key: 'filteredOptions',\n        value: function filteredOptions() {\n            var searchText = this.state.searchText;\n            var _props2 = this.props,\n                options = _props2.options,\n                customFilterOptions = _props2.filterOptions;\n\n\n            return customFilterOptions ? customFilterOptions(options, searchText) : (0, _fuzzyMatchUtils.filterOptions)(options, searchText);\n        }\n    }, {\n        key: 'updateFocus',\n        value: function updateFocus(offset) {\n            var focusIndex = this.state.focusIndex;\n            var options = this.props.options;\n\n\n            var newFocus = focusIndex + offset;\n            newFocus = Math.max(0, newFocus);\n            newFocus = Math.min(newFocus, options.length);\n\n            this.setState({ focusIndex: newFocus });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _state = this.state,\n                focusIndex = _state.focusIndex,\n                searchHasFocus = _state.searchHasFocus;\n            var _props3 = this.props,\n                ItemRenderer = _props3.ItemRenderer,\n                selectAllLabel = _props3.selectAllLabel,\n                disabled = _props3.disabled,\n                disableSearch = _props3.disableSearch,\n                hasSelectAll = _props3.hasSelectAll;\n\n\n            var selectAllOption = {\n                label: selectAllLabel || \"Select All\",\n                value: \"\"\n            };\n\n            var focusedSearchStyle = searchHasFocus ? styles.searchFocused : undefined;\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'select-panel',\n                    style: styles.panel,\n                    role: 'listbox',\n                    onKeyDown: this.handleKeyDown\n                },\n                !disableSearch && _react2.default.createElement(\n                    'div',\n                    { style: styles.searchContainer },\n                    _react2.default.createElement('input', {\n                        placeholder: 'Search',\n                        type: 'text',\n                        onChange: this.handleSearchChange,\n                        style: _extends({}, styles.search, focusedSearchStyle),\n                        onFocus: function onFocus() {\n                            return _this2.handleSearchFocus(true);\n                        },\n                        onBlur: function onBlur() {\n                            return _this2.handleSearchFocus(false);\n                        }\n                    })\n                ),\n                hasSelectAll && _react2.default.createElement(_selectItem2.default, {\n                    focused: focusIndex === 0,\n                    checked: this.allAreSelected(),\n                    option: selectAllOption,\n                    onSelectionChanged: this.selectAllChanged,\n                    onClick: function onClick() {\n                        return _this2.handleItemClicked(0);\n                    },\n                    ItemRenderer: ItemRenderer,\n                    disabled: disabled\n                }),\n                _react2.default.createElement(_selectList2.default, _extends({}, this.props, {\n                    options: this.filteredOptions(),\n                    focusIndex: focusIndex - 1,\n                    onClick: function onClick(e, index) {\n                        return _this2.handleItemClicked(index + 1);\n                    },\n                    ItemRenderer: ItemRenderer,\n                    disabled: disabled\n                }))\n            );\n        }\n    }]);\n\n    return SelectPanel;\n}(_react.Component);\n\nvar styles = {\n    panel: {\n        boxSizing: 'border-box'\n    },\n    search: {\n        display: \"block\",\n\n        maxWidth: \"100%\",\n        borderRadius: \"3px\",\n\n        boxSizing: 'border-box',\n        height: '30px',\n        lineHeight: '24px',\n        border: '1px solid',\n        borderColor: '#dee2e4',\n        padding: '10px',\n        width: \"100%\",\n        outline: \"none\"\n    },\n    searchFocused: {\n        borderColor: \"#78c008\"\n    },\n    searchContainer: {\n        width: \"100%\",\n        boxSizing: 'border-box',\n        padding: \"0.5em\"\n    }\n};\n\nexports.default = SelectPanel;"]},"metadata":{},"sourceType":"script"}