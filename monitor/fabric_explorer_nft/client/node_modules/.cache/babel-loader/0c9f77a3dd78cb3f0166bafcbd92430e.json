{"ast":null,"code":"import _classCallCheck from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/fabric_explorer_nft/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n *    SPDX-License-Identifier: Apache-2.0\n */import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import{Timeline,TimelineEvent}from'react-event-timeline';import Dialog from'@material-ui/core/Dialog';import FontAwesome from'react-fontawesome';import Typography from'@material-ui/core/Typography';import{Badge}from'reactstrap';import Timeago from'react-timeago';import find from'lodash/find';import BlockView from'../View/BlockView';import blockOpen from'../../static/images/blockOpen.png';import{blockListType,notificationsType}from'../types';/* istanbul ignore next */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=function styles(theme){var type=theme.palette.type;var dark=type==='dark';return{scrollable:{height:300,overflowY:'scroll'},text:{color:dark?'#ffffff':undefined,'& .badge-secondary':{backgroundColor:'#5e548f'}},event:{wordWrap:'break-word',width:'90% !important',backgroundColor:dark?'#423b5f !important':undefined,'& p':{color:dark?'#ffffff':undefined},'& > div':{color:dark?'red':undefined}},open:{height:35,marginTop:-10,backgroundColor:'transparent'}};};export var TimelineStream=/*#__PURE__*/function(_Component){_inherits(TimelineStream,_Component);var _super=_createSuper(TimelineStream);function TimelineStream(props){var _this;_classCallCheck(this,TimelineStream);_this=_super.call(this,props);_this.handleDialogOpenBlockHash=function(rowValue){var blockList=_this.props.blockList;var data=find(blockList,function(item){return item.blockhash===rowValue;});_this.setState({dialogOpenBlockHash:true,blockHash:data});};_this.handleDialogCloseBlockHash=function(){_this.setState({dialogOpenBlockHash:false});};_this.state={dialogOpenBlockHash:false,blockHash:{}};return _this;}_createClass(TimelineStream,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,notifications=_this$props.notifications,classes=_this$props.classes;var _this$state=this.state,blockHash=_this$state.blockHash,dialogOpenBlockHash=_this$state.dialogOpenBlockHash;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.scrollable,children:/*#__PURE__*/_jsx(Timeline,{children:notifications.map(function(item){return/*#__PURE__*/_jsxs(TimelineEvent,{title:item.title,icon:/*#__PURE__*/_jsx(FontAwesome,{name:\"cube\"}),iconColor:\"#0D3799\",container:\"card\",className:classes.event,titleStyle:{fontWeight:'bold'},style:{width:'65%'},cardHeaderStyle:{backgroundColor:'#6283D0',fontSize:'13pt'},contentStyle:{backgroundColor:'transparent'},buttons:/*#__PURE__*/_jsx(\"a\",{\"data-command\":\"block-link\",href:\"#/\",onClick:function onClick(){return _this2.handleDialogOpenBlockHash(item.blockhash);},children:/*#__PURE__*/_jsx(\"img\",{src:blockOpen,alt:\"View Blocks\",className:classes.open})}),children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"b\",{className:classes.text,children:\" Channel Name:\"}),\" \",item.channelName,' ',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{className:classes.text,children:\" Datahash:\"}),\" \",item.datahash,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{className:classes.text,children:\" Number of Tx:\"}),\" \",item.txcount]}),/*#__PURE__*/_jsx(\"h5\",{className:classes.text,children:/*#__PURE__*/_jsx(Badge,{className:classes.text,children:/*#__PURE__*/_jsx(Timeago,{className:classes.text,date:item.time,live:false,minPeriod:60})})})]},item.title);})})}),/*#__PURE__*/_jsx(Dialog,{open:dialogOpenBlockHash,onClose:this.handleDialogCloseBlockHash,fullWidth:true,maxWidth:\"md\",children:/*#__PURE__*/_jsx(BlockView,{blockHash:blockHash,onClose:this.handleDialogCloseBlockHash})})]});}}]);return TimelineStream;}(Component);export default withStyles(styles)(TimelineStream);","map":{"version":3,"sources":["/fabric_explorer_nft/client/src/components/Lists/TimelineStream.js"],"names":["React","Component","withStyles","Timeline","TimelineEvent","Dialog","FontAwesome","Typography","Badge","Timeago","find","BlockView","blockOpen","blockListType","notificationsType","styles","theme","type","palette","dark","scrollable","height","overflowY","text","color","undefined","backgroundColor","event","wordWrap","width","open","marginTop","TimelineStream","props","handleDialogOpenBlockHash","rowValue","blockList","data","item","blockhash","setState","dialogOpenBlockHash","blockHash","handleDialogCloseBlockHash","state","notifications","classes","map","title","fontWeight","fontSize","channelName","datahash","txcount","time"],"mappings":"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","sourcesContent":["/**\n *    SPDX-License-Identifier: Apache-2.0\n */\n\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Timeline, TimelineEvent } from 'react-event-timeline';\nimport Dialog from '@material-ui/core/Dialog';\nimport FontAwesome from 'react-fontawesome';\nimport Typography from '@material-ui/core/Typography';\nimport { Badge } from 'reactstrap';\nimport Timeago from 'react-timeago';\nimport find from 'lodash/find';\nimport BlockView from '../View/BlockView';\nimport blockOpen from '../../static/images/blockOpen.png';\nimport { blockListType, notificationsType } from '../types';\n\n/* istanbul ignore next */\nconst styles = theme => {\n\tconst { type } = theme.palette;\n\tconst dark = type === 'dark';\n\treturn {\n\t\tscrollable: {\n\t\t\theight: 300,\n\t\t\toverflowY: 'scroll'\n\t\t},\n\t\ttext: {\n\t\t\tcolor: dark ? '#ffffff' : undefined,\n\t\t\t'& .badge-secondary': {\n\t\t\t\tbackgroundColor: '#5e548f'\n\t\t\t}\n\t\t},\n\t\tevent: {\n\t\t\twordWrap: 'break-word',\n\t\t\twidth: '90% !important',\n\t\t\tbackgroundColor: dark ? '#423b5f !important' : undefined,\n\t\t\t'& p': {\n\t\t\t\tcolor: dark ? '#ffffff' : undefined\n\t\t\t},\n\t\t\t'& > div': {\n\t\t\t\tcolor: dark ? 'red' : undefined\n\t\t\t}\n\t\t},\n\t\topen: {\n\t\t\theight: 35,\n\t\t\tmarginTop: -10,\n\t\t\tbackgroundColor: 'transparent'\n\t\t}\n\t};\n};\n\nexport class TimelineStream extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdialogOpenBlockHash: false,\n\t\t\tblockHash: {}\n\t\t};\n\t}\n\n\thandleDialogOpenBlockHash = rowValue => {\n\t\tconst { blockList } = this.props;\n\t\tconst data = find(blockList, item => item.blockhash === rowValue);\n\t\tthis.setState({\n\t\t\tdialogOpenBlockHash: true,\n\t\t\tblockHash: data\n\t\t});\n\t};\n\n\thandleDialogCloseBlockHash = () => {\n\t\tthis.setState({ dialogOpenBlockHash: false });\n\t};\n\n\trender() {\n\t\tconst { notifications, classes } = this.props;\n\t\tconst { blockHash, dialogOpenBlockHash } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={classes.scrollable}>\n\t\t\t\t\t<Timeline>\n\t\t\t\t\t\t{notifications.map(item => (\n\t\t\t\t\t\t\t<TimelineEvent\n\t\t\t\t\t\t\t\tkey={item.title}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\ticon={<FontAwesome name=\"cube\" />}\n\t\t\t\t\t\t\t\ticonColor=\"#0D3799\"\n\t\t\t\t\t\t\t\tcontainer=\"card\"\n\t\t\t\t\t\t\t\tclassName={classes.event}\n\t\t\t\t\t\t\t\ttitleStyle={{ fontWeight: 'bold' }}\n\t\t\t\t\t\t\t\tstyle={{ width: '65%' }}\n\t\t\t\t\t\t\t\tcardHeaderStyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#6283D0',\n\t\t\t\t\t\t\t\t\tfontSize: '13pt'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcontentStyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: 'transparent'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tbuttons={\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tdata-command=\"block-link\"\n\t\t\t\t\t\t\t\t\t\thref=\"#/\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDialogOpenBlockHash(item.blockhash)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img src={blockOpen} alt=\"View Blocks\" className={classes.open} />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\t<b className={classes.text}> Channel Name:</b> {item.channelName}{' '}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<b className={classes.text}> Datahash:</b> {item.datahash} <br />\n\t\t\t\t\t\t\t\t\t<b className={classes.text}> Number of Tx:</b> {item.txcount}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<h5 className={classes.text}>\n\t\t\t\t\t\t\t\t\t<Badge className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t<Timeago\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.text}\n\t\t\t\t\t\t\t\t\t\t\tdate={item.time}\n\t\t\t\t\t\t\t\t\t\t\tlive={false}\n\t\t\t\t\t\t\t\t\t\t\tminPeriod={60}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</TimelineEvent>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Timeline>\n\t\t\t\t</div>\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={dialogOpenBlockHash}\n\t\t\t\t\tonClose={this.handleDialogCloseBlockHash}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmaxWidth=\"md\"\n\t\t\t\t>\n\t\t\t\t\t<BlockView\n\t\t\t\t\t\tblockHash={blockHash}\n\t\t\t\t\t\tonClose={this.handleDialogCloseBlockHash}\n\t\t\t\t\t/>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTimelineStream.propTypes = {\n\tblockList: blockListType.isRequired,\n\tnotifications: notificationsType.isRequired\n};\n\nexport default withStyles(styles)(TimelineStream);\n"]},"metadata":{},"sourceType":"module"}